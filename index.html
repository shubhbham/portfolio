<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 10;
            padding: 10;
        }

        *{
            background-color: rgba(46, 10, 36);
            color: aliceblue;
            margin-right: -5000px;
        }

        .container {

            /* Smartphones */

            @media only screen and (min-device-width : 320px) and (max-device-width : 480px) {
                /* Styles */
            }

            /* iPads */
            @media only screen and (min-device-width : 768px) and (max-device-width : 1024px) {
                /* Styles */
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="code-wrap">
            <pre>
                <code id="code">
                <h2>--college database---------------------------------------------------</h2>
                create table STUDENT(USN varchar(30), Sname varchar(30), Address varchar(30), Phone varchar(30), Gender char(1), constraint pkystudent primary key(USN));

                create table SEM_SECTION(SSID varchar(30),Sem int,Section varchar(5),constraint pkysemsection primary key(SSID));
                
                create table CLASS(USN varchar(30),SSID varchar(30),constraint pkyclass primary key(USN),constraint fkyclass1 foreign key(USN) references STUDENT(USN),
                constraint fkyclass2 foreign key(SSID) references SEM_SECTION(SSID));
                
                create table SUBJECT(Subject_code varchar(10),Title varchar(30),Sem int,Credits int,constraint pkysubject primary key(Subject_code));
                
                create table IA_MARKS(USN varchar(30),Subject_code varchar(10),SSID varchar(30),Test1 int,Test2 int,Test3 int,Final_IA int,
                constraint pkyiamarks primary key(USN,Subject_code,SSID),constraint fkyiamarks1 foreign key(USN) references STUDENT(USN),
                constraint fkyiamarks2 foreign key(Subject_code) references SUBJECT(Subject_code),constraint fkyiamarks3 foreign key(SSID) references SEM_SECTION(SSID));
                
                
                insert into STUDENT values('4NN15CS001','Ankitha','Vijaynagar','9880067777','F');
                insert into STUDENT values('4NN15CS002','Anil','Vijaynagar','9880067778','M');
                insert into STUDENT values('4NN15CS003','Deepika','Jaynagar','9880067779','F');
                insert into STUDENT values('4NN15CS004','Rajesh','Kuvempunagar','9880067775','M');
                insert into STUDENT values('4NN15CS005','Sanvi','Srinagar','9880067774','F');
                insert into STUDENT values('4NN15CS006','Shravya','Yadavgiri','9880067773','F');
                insert into STUDENT values('4NN15CS007','Shruthi','Yadavgiri','9880067772','F');
                insert into STUDENT values('4NN15CS008','Mahesh','Yadavgiri','9880067771','M');
                insert into STUDENT values('4NN15CS009','Amit','Jaynagar','9880067770','M');
                insert into STUDENT values('4NN15CS010','Aditya','Jaynagar','9880067776','M');
                
                
                
                insert into SEM_SECTION values(11,4,'A');
                insert into SEM_SECTION values(12,4,'B');
                insert into SEM_SECTION values(13,4,'C');
                insert into SEM_SECTION values(14,8,'A');
                insert into SEM_SECTION values(15,8,'C');
                insert into SEM_SECTION values(16,8,'B');
                
                
                insert into CLASS values('4NN15CS001',11);
                insert into CLASS values('4NN15CS002',13);
                insert into CLASS values('4NN15CS003',15);
                insert into CLASS values('4NN15CS004',14);
                insert into CLASS values('4NN15CS005',15);
                insert into CLASS values('4NN15CS006',16);
                insert into CLASS values('4NN15CS007',11);
                insert into CLASS values('4NN15CS008',11);
                insert into CLASS values('4NN15CS009',14);
                insert into CLASS values('4NN15CS010',13);
                
                
                insert into SUBJECT values('15CS41','Maths',4,4);
                insert into SUBJECT values('15CS42','USP',4,4);
                insert into SUBJECT values('15CS43','DMS',4,4);
                insert into SUBJECT values('15CS61','SMS',8,3);
                insert into SUBJECT values('15CS62','INS',8,3);
                insert into SUBJECT values('15CS63','ADHOC',8,3);
                insert into SUBJECT values('15CS81','SMS',8,3);
                insert into SUBJECT values('15CS82','INS',8,3);
                insert into SUBJECT values('15CS83','ADHOC',8,3);
                
                
                
                insert into IA_MARKS values('4NN15CS001','15CS41',11,14,15,16,null);
                insert into IA_MARKS values('4NN15CS001','15CS42',11,13,15,16,null);
                insert into IA_MARKS values('4NN15CS001','15CS43',11,14,20,16,null);
                
                insert into IA_MARKS values('4NN15CS002','15CS41',13,14,15,16,null);
                insert into IA_MARKS values('4NN15CS002','15CS42',13,14,18,16,null);
                insert into IA_MARKS values('4NN15CS002','15CS43',13,14,15,17,null);
                
                insert into IA_MARKS values('4NN15CS003','15CS81',15,14,15,16,null);
                insert into IA_MARKS values('4NN15CS003','15CS82',15,15,16,16,null);
                insert into IA_MARKS values('4NN15CS003','15CS83',15,18,15,16,null);
                
                insert into IA_MARKS values('4NN15CS004','15CS81',14,16,15,16,null);
                insert into IA_MARKS values('4NN15CS004','15CS82',14,14,17,17,null);
                insert into IA_MARKS values('4NN15CS004','15CS83',14,18,15,20,null);
                
                insert into IA_MARKS values('4NN15CS005','15CS81',15,14,15,16,null);
                insert into IA_MARKS values('4NN15CS005','15CS82',15,17,14,16,null);
                insert into IA_MARKS values('4NN15CS005','15CS83',15,19,15,20,null);
                
                insert into IA_MARKS values('4NN15CS006','15CS81',16,19,15,14,null);
                insert into IA_MARKS values('4NN15CS006','15CS82',16,17,18,16,null);
                insert into IA_MARKS values('4NN15CS006','15CS83',16,19,12,20,null);
                
                insert into IA_MARKS values('4NN15CS007','15CS41',11,16,15,16,null);
                insert into IA_MARKS values('4NN15CS007','15CS42',11,12,15,16,null);
                insert into IA_MARKS values('4NN15CS007','15CS43',11,14,20,16,null);
                
                insert into IA_MARKS values('4NN15CS008','15CS41',11,16,15,16,null);
                insert into IA_MARKS values('4NN15CS008','15CS42',11,13,15,16,null);
                insert into IA_MARKS values('4NN15CS008','15CS43',11,18,20,16,null);
                
                
                insert into IA_MARKS values('4NN15CS009','15CS81',14,15,15,16,null);
                insert into IA_MARKS values('4NN15CS009','15CS82',14,17,17,18,null);
                insert into IA_MARKS values('4NN15CS009','15CS83',14,18,14,20,null);
                
               
                
                select S.*,SS.Sem,SS.Section
                from STUDENT S,SEM_SECTION SS,CLASS C
                where S.USN=C.USN and 
                SS.SSID=C.SSID
                and SS.sem=4
                and SS.Section='C';
                
             
                select SS.Sem,SS.Section,S.Gender,count(S.Gender) as count
                from  STUDENT S,SEM_SECTION SS,CLASS C
                where S.USN=C.USN
                and SS.SSID=C.SSID
                group by SS.Sem,SS.Section,S.Gender
                order by Sem; 
                
                
                
                create view Stu_test1_marks as
                select Test1,Subject_code
                from IA_MARKS
                where USN='4NN15CS007';
                
                select * from Stu_test1_marks;
                
                
                
                delimiter $$
                drop procedure if exists avgmarks $$
                create procedure avgmarks()
                begin
                update IA_MARKS
                set Final_IA=(((Test1+Test2+Test3)-least(Test1,Test2,Test3))/2);
                end $$
                
                select * from IA_MARKS;
                call avgmarks();
                select * from IA_MARKS; 
                $$
                
                
                select S.USN,S.Address,S.Sname,S.Phone,S.Gender,(case
                when IA.Final_IA between 17 and 20 then 'outstanding'
                when IA.Final_IA between 12 and 16 then 'average' else 
                'weak' END) as CATEGORY
                from STUDENT S ,SEM_SECTION SS,IA_MARKS IA,SUBJECT SUB
                WHERE S.USN=IA.USN and
                SUB.Subject_code=IA.Subject_code and
                SS.SSID=IA.SSID and
                SUB.Sem=8;
                
                
          

                <h2>-Library database----------------------------------</h2>

                create table Publisher(Publisher_name varchar(30), Address varchar(30), Phone varchar(30), 
                constraint pkyPublisher primary key(Publisher_name));
                
                create table Book(Book_id integer,Title varchar(30),Publisher_name varchar(30),Publish_year integer, 
                constraint pkyBook primary key(Book_id),
                constraint fkyBook foreign key(Publisher_name) references Publisher(Publisher_name) on delete cascade);
                
                create table Book_Authors(Book_id integer,Author_name varchar(30),constraint pkyBookAuthors primary key(Book_id),
                constraint fkyBookAuthors foreign key(Book_id) references Book(Book_id) on delete cascade);
                
                create table Library_programme(programme_id integer,programme_name varchar(30),Address varchar(30),
                constraint pkyLibprogramme primary key(programme_id));
                
                create table Book_Copies(Book_id integer,programme_id integer,No_of_copies integer,
                constraint pkyBookCopies primary key(Book_id,programme_id),
                constraint fkyBookCopies1 foreign key(Book_id) references Book(Book_id) on delete cascade,
                constraint fkyBookCopies2 foreign key(programme_id) references Library_programme(programme_id) on delete cascade);
                
                create table Book_Lending(Book_id integer,programme_id integer,Card_no varchar(30),Date_Out date,Due_Date date,
                constraint pkyBookLen primary key(Book_id,programme_id,Card_no),
                constraint fkyBookLen1 foreign key(Book_id) references Book(Book_id) on delete cascade,
                constraint fkyBookLen2 foreign key(programme_id) references Library_branch(programme_id) on delete cascade);
                
            
                
                insert into Publisher values('PHI','India',9880066666);
                insert into Publisher values('McGraw Hill','India',9880066777);
                insert into Publisher values('Sapna','India',9880066888);
                insert into Publisher values('Andearson','India',9880066999);
                insert into Publisher values('Tata','India',9880066555);
                insert into Publisher values('Dreamtech','India',9880066444);
                insert into Publisher values('MHI','India','9880077755');
                
                
                
                insert into Book values(101,'Programming in C','PHI',2000);
                insert into Book values(102,'Programming in C#','MHI',2002);
                insert into Book values(103,'Computer Netwokrs','Dreamtech',2006);
                insert into Book values(104,'Unix Shell Programming','PHI',2000);
                insert into Book values(105,'Compiler Design','PHI',2010);
                insert into Book values(106,'Database Management Systems','PHI',2008);
                
                
                
                insert into Book_Authors values(101,'Balaguruswamy');
                insert into Book_Authors values(102,'Andearson');
                insert into Book_Authors values(103,'Ferouzan');
                insert into Book_Authors values(104,'Sumitabha Das');
                insert into Book_Authors values(105,'Kumar');
                insert into Book_Authors values(106,'Tanenbaum');
               
                
                insert into Library_programme values(1,'Technical','Jayanagar');
                insert into Library_programme values(2,'Technical','Kuvempunagar');
                insert into Library_programme values(3,'Advanced Technology','Rajarajeshwarinagar');
                insert into Library_programme values(4,'Technical','Vijaynagar');
                insert into Library_programme values(5,'Advanced Technology','Vijaynagar');
                
                
                insert into Book_Copies values(101,1,100);
                insert into Book_Copies values(102,1,150);
                insert into Book_Copies values(101,2,200);
                insert into Book_Copies values(103,3,400);
                insert into Book_Copies values(105,4,140);
                insert into Book_Copies values(104,5,150);
                
                
                insert into Book_Lending values(101,1,11,'2017-01-22','2017-02-07');
                insert into Book_Lending values(102,1,22,'2017-01-22','2017-04-07');
                insert into Book_Lending values(103,3,33,'2017-02-22','2017-04-07');
                insert into Book_Lending values(104,5,44,'2017-01-22','2017-06-07');
                insert into Book_Lending values(105,4,55,'2017-03-22','2017-05-07');
                insert into Book_Lending values(101,2,66,'2017-04-22','2017-05-07');
                insert into Book_Lending values(103,3,11,'2017-06-20','2017-07-07');
                insert into Book_Lending values(104,5,11,'2017-03-12','2017-05-07');
                insert into Book_Lending values(105,4,11,'2017-05-10','2017-05-07');
                
               
                
                
                select B.Book_id,Title,Publisher_name,Author_name,No_of_copies
                from Book B,Book_Authors A,Book_Copies C,Library_programme L
                where B.Book_id=A.Book_id and
                B.Book_id=C.Book_id and
                C.programme_id=L.programme_id;
                
                
                select Card_no,count(*)
                from Book_Lending
                where Date_Out between '2017-01-01' and '2017-06-30'
                Group by Card_no
                Having count(*) > 3; 
              
                
                delete from Book_Lending where Book_ID=102;
               
                delete from Book where Book_ID=102;
                
                
                
                create view Book_Details as
                select B.Book_id,Title,No_of_copies,L.programme_id
                from Book B,Book_Copies C,Library_programme L
                where B.Book_id=C.Book_id and
                C.programme_id=L.programme_id;
                
                select * from Book_Details;
                
                
                
                
                create table b2(book_id int,title varchar(20),pname varchar(20),pyear int,constraint pkyb2 primary key(book_id,pyear))
                partition by range(pyear)
                (partition p0 values less than(2000),
                partition p1 values less than(2005),
                partition p2 values less than(2010)); 
                
                insert into b2 values(2,'dbms','pearson',2000);
                insert into b2 values(2,'cn','pearson',2010);
                insert into b2 values(2,'cn','pearson',2009);
                insert into b2 values(2,'cn','pearson',1998);
                insert into b2 values(3,'se','navathe',2005);
                
                select *from b2;
                
               
                
                use information_schema;
                select * from partitions where table_name="b2";
                
               
            <h2>--Company database----------------------------------------</h2>
            create table DEPARTMENT(Dname varchar(30),Dno int,Mgr_ssn varchar(10),Mgr_startdate date,constraint pkydept primary key(Dno));

            create table EMPLOYEE(Fname varchar(30),Midint varchar(30),Lname varchar(30),SSN varchar(10),Bdate date,Address varchar(30),Gender char(1),salary int,Super_ssn varchar(10),Dno int,
            constraint pkyemp primary key(SSN),constraint fkyemp foreign key(Dno) references DEPARTMENT(Dno));
             
            alter table DEPARTMENT add constraint fkydept foreign key(Mgr_ssn)references EMPLOYEE(SSN);
            alter table EMPLOYEE add constraint fkyempl foreign key(Super_ssn)references EMPLOYEE(SSN);
             
            create table DLOCATION(Dno int ,Dlocation varchar(30),constraint pkydloc primary key(DnO,Dlocation),constraint fkydloc foreign key(Dno)references DEPARTMENT(Dno));
             
            create table PROJECT(Pname varchar(30),Pno int,Plocation varchar(30),Dno int,constraint pkypro primary key(Pno),constraint fkypro foreign key(Dno) references DEPARTMENT(Dno));
             
            create table WORKS_ON(SSN varchar(10),Pno int,hours int,constraint pkywork primary key(SSN,Pno), constraint fkywork1 foreign key(SSN) references EMPLOYEE(SSN),
            constraint fkywork2 foreign key(Pno) references PROJECT(Pno));
             
             
            insert into DEPARTMENT values('research',5,null,'1988-05-22');
            insert into DEPARTMENT values('administration',4,null,'1995-01-01');
            insert into DEPARTMENT values('headquarters',1,null,'1981-06-19');
          
             
            insert into EMPLOYEE values('john','b','smith',123456789,'1965-01-09','731 fondren houston tx','m',30000,null,5);
            insert into EMPLOYEE values('Franklin','T','Wong',333445555,'1955-12-08','638 Voss, Houston, TX','M',40000,null,4);
            insert into EMPLOYEE values('Alicia','J','Zelaya',999887777,'1968-01-19','3321 Castle, Spring, TX','F',25000,null,4);
            insert into EMPLOYEE values('Ramesh','K','Narayan',666884444,'1962-09-15','975 Fire Oak, Humble, TX','M',38000,null,5);
            insert into EMPLOYEE values('Joyce','A','English',453453453,'1972-07-31','5631 Rice, Houston, TX','F',25000,null,5);
            insert into EMPLOYEE values('Ahmad','V', 'Jabbar',987987987,'1969-03-29','980 Dallas, Houston, TX','M',25000,null,4);
            insert into EMPLOYEE values('James','E','Borg',888665555,'1937-11-10','450 Stone, Houston, TX','M',55000,null,1);
             
           
             
             
            update DEPARTMENT set mgr_ssn=333445555 where dno=5;
            update DEPARTMENT set mgr_ssn=987987987 where dno=4;
            update DEPARTMENT set mgr_ssn=888665555 where dno=1;
             
           
             
            update EMPLOYEE set super_ssn=333445555 where ssn=123456789;
            
            update EMPLOYEE set super_ssn=888665555 where ssn=333445555;
            
            update EMPLOYEE set super_ssn=333445555 where ssn=666884444;
            
            update EMPLOYEE set super_ssn=333445555 where ssn=453453453;
             
            update EMPLOYEE set super_ssn=666884444 where ssn = 888665555;
            
            update EMPLOYEE set super_ssn=888665555 where ssn = 987987987;
        
            update EMPLOYEE set super_ssn=453453453 where ssn = 999887777;
            
             
             insert into DLOCATION values(1,'Houston');
             insert into DLOCATION values(4,'Stafford');
             insert into DLOCATION values(5,'Bellaire');
             insert into DLOCATION values(5,'Sugarland');
             insert into DLOCATION values(5,'Houston');
             
            
             
             insert into PROJECT values('ProductX',1,'Bellaire',5);
             insert into PROJECT values('ProductY',2,'Sugarland',5);
             insert into PROJECT values('ProductZ',3,'Houston',5);
             insert into PROJECT values('Computerization',10,'Stafford',4);
             insert into PROJECT values('Reorganization',20,'Houston',1);
             insert into PROJECT values('Newbenefits',30,'Stafford',4);
             
            
             
             insert into WORKS_ON values(123456789,1,32.5);
             insert into WORKS_ON values(123456789,2,7.5);
             insert into WORKS_ON values(666884444,3,40.0);
             insert into WORKS_ON values(453453453,1,20.0);
             insert into WORKS_ON values(453453453,2,20.0);
             insert into WORKS_ON values(333445555,2,10.0);
             insert into WORKS_ON values(333445555,3,10.0);
             insert into WORKS_ON values(333445555,10,10.0);
             insert into WORKS_ON values(333445555,20,10.0);
             insert into WORKS_ON values(999887777,30,30.0);
             insert into WORKS_ON values(999887777,10,10.0);
             insert into WORKS_ON values(987987987,10,35.0);
             insert into WORKS_ON values(987987987,30,5.0);
             insert into WORKS_ON values(888665555,20,null);
             
            
             
             
             
             (select distinct P.Pno
             from PROJECT P,DEPARTMENT D,EMPLOYEE E
             where E.Dno=D.Dno
             and D.Mgr_ssn=E.SSN
             and E.Lname='smith')
             UNION
             (select P1.Pno
             from PROJECT P1,WORKS_ON W,EMPLOYEE E1
             WHERE P1.Pno=W.Pno
             and E1.SSN=W.SSN
             and E1.Lname='smith');
             
           
             
             
             select E.Fname,E.Lname,1.1*E.Salary as INCR_SAL
             from EMPLOYEE E,WORKS_ON W,PROJECT P
             WHERE E.SSN=W.SSN
             AND W.Pno=P.Pno
             AND P.Pname='ProductX';
             
             
             
             
             select sum(E.Salary),max(E.Salary),min(E.Salary),avg(E.Salary)
             from EMPLOYEE E,DEPARTMENT D
             where E.Dno=D.Dno
             and D.Dname='Research';
             
            
             
             select E.Fname,E.Lname
             from EMPLOYEE E
             where NOT EXISTS (select * 
             from PROJECT P
             where ( P.Pno in (select Pno
             from PROJECT
             where Dno='5')
             and EXISTS (select * from WORKS_ON W
             where E.SSN=W.SSN
             and P.Pno=W.Pno)));
             
             
             
             select D.Dno
             from DEPARTMENT D,EMPLOYEE E
             where D.Dno=E.Dno
             and E.Salary>20000
             group by E.Dno
             having count(*)>=2;
             
             
             <h2>-Salesman database-------------------------------------------</h2>
             
             create table SALESMAN(Salesman_id int,Name varchar(30),City varchar(30),Commission int,constraint pkySALESMAN primary key(Salesman_id));

             create table CUSTOMER(Customer_id int,Cust_name varchar(30),City varchar(30),Grade int,Salesman_id int,constraint pkyCUSTOMER primary key(Customer_id),
             constraint fkyCUSTOMER foreign key(Salesman_id) references SALESMAN(Salesman_id) on delete cascade);
             
             create table ORDER1(Ord_no int,Purchase_amt int,Ord_date date,Customer_id int,Salesman_id int,constraint pkyORDER1 primary key(Ord_no),
             constraint fkyORDER2 foreign key(Customer_id) references CUSTOMER(Customer_id) on delete cascade,
             constraint fkyORDER3 foreign key(Salesman_id) references SALESMAN(Salesman_id) on delete cascade);
             
             
             
             insert into salesman values(1000,'John', 'Bangalore', 25);
            
             insert into salesman values(2000,'ravi', 'Bangalore', 20);
           
             insert into salesman values(3000,'kumar', 'Mysore', 15);
            
             insert into salesman values(4000,'Smith', 'Delhi', 30);
             
             insert into salesman values(5000,'harsha', 'Hyderabad', 15);
             
             insert into customer values(10,'preethi','Bangalore',100,1000);
            
             insert into customer values(11,'vivek','mangalore',300,1000);
             
             insert into customer values(12,'bhaskar','chennai',400,2000);
             
             insert into customer values(13,'chethan','bangalore',200,2000);
        
             insert into customer values(14,'mamatha','bangalore',400,3000);
             
          
             
             insert into order1 values(50,5000,'2017-05-17',10,1000);
             
             
             insert into order1 values(51,450,'2017-01-20',10,2000);
             
             
             insert into order1 values(52,1000,'2017-02-24',13,2000);
             
             
             insert into order1 values(53,3500,'2017-04-13',14,3000);
             
             
             insert into order1 values(54,550,'2017-03-09',12,2000);
             
             
             select Grade, count(distinct Customer_id)
             from CUSTOMER   
             group by Grade
             having Grade>(select avg(Grade)
             from CUSTOMER
             where City='Bangalore');
             
        
             
             select Name,Salesman_id
             from SALESMAN A
             where 1 < (select count(*)
             from CUSTOMER
             where Salesman_id=A.Salesman_id);
             
             
             (select distinct S.Name 
             from CUSTOMER C,SALESMAN S
             where S.Salesman_id=C.Salesman_id
             and S.City=C.City)
             UNION
             (select distinct Name 
             from SALESMAN
             where Salesman_id not in(select S.Salesman_id from SALESMAN S,CUSTOMER C
             where S.Salesman_id=C.Salesman_id
             and S.City=C.City));
             
            
             
             create view EliteSalesman as
             select B.Ord_date,A.Salesman_id,A.Name
             from SALESMAN A,ORDER1 B
             where A.Salesman_id=B.Salesman_id
             and B.Purchase_amt =(select MAX(Purchase_amt)
             from ORDER1 C
             where C.Ord_date=B.Ord_date);
             
             select * from EliteSalesman;
        
             
             delete from Salesman where Salesman_id=1000; 
             delete from ORDER1 where Salesman_id=1000; 
            
             <h2>-Movie database--------------------------------</h2>

             om rating;create table ACTOR(Act_id int,Act_name varchar(30),Act_gender char(1),constraint pkyACTOR primary key(Act_id));

             create table DIRECTOR(Dir_id int,Dir_name varchar(30),Dir_phone varchar(30),constraint pkyDIRECTOR primary key(Dir_id));
             
             create table MOVIES(Mov_id int,Mov_title varchar(30),Mov_year int,Mov_lang varchar(30),Dir_id int,constraint pkyMOVIES primary key(Mov_id),
             constraint fkyMOVIES foreign key(Dir_id) references DIRECTOR(Dir_id));
             
             create table MOVIE_CAST(Act_id int,Mov_id int,Role varchar(30),constraint pkyMOVIE_CAST primary key(Act_id,Mov_id),
             constraint fkyMOVIE_CAST1 foreign key(Act_id) references ACTOR(Act_id),
             constraint fkyMOVIE_CAST2 foreign key(Mov_id) references MOVIES(Mov_id));
             
             create table RATING(Mov_id int,Rev_stars int,constraint pkyRATING primary key(Mov_id),
             constraint fkyRATING foreign key(Mov_id) references MOVIES(Mov_id));
             
             
             insert into ACTOR values(301,'Anushka','F');
             insert into ACTOR values(302,'Prabhas','M');
             insert into ACTOR values(303,'Punith','M');
             insert into ACTOR values(304,'Jermy','M');
             
             
             insert into DIRECTOR values(60,'Rajamouli','8751611001');
             insert into DIRECTOR values(61,'Hitchcock','7766138911');
             insert into DIRECTOR values(62,'Faran','9986776531');
             insert into DIRECTOR values(63,'Steven Spielberg','8989776530');
             
             
             insert into MOVIES values(1001,'Bahubali-2',2017,'Telagu',60);
             insert into MOVIES values(1002,'Bahubali-1',2015,'Telagu',60);
             insert into MOVIES values(1003,'Iceage',2008,'Kannada',61);
             insert into MOVIES values(1004,'War Horse',2011,'English',63);
             
             
             insert into MOVIE_CAST values(301,1002,'Heroine');
             insert into MOVIE_CAST values(301,1001,'Heroine');
             insert into MOVIE_CAST values(303,1003,'Hero');
             insert into MOVIE_CAST values(303,1002,'Guest');
             insert into MOVIE_CAST values(304,1004,'Hero');
             
             
             insert into RATING values(1001,4);
             insert into RATING values(1002,2);
             insert into RATING values(1003,5);
             insert into RATING values(1004,4);
             
        
             
             
             
             select Mov_title
             from MOVIES M,DIRECTOR D
             here Dir_name="Hitchcock" and
             M.Dir_id=D.Dir_id;
            
             
             
             select Mov_title
             from MOVIES M,MOVIE_CAST C
             where M.Mov_id=C.Mov_id and Act_id in(select Act_id
             from MOVIE_CAST
             group by Act_id
             having count(Act_id) > 1);
             
        
             
             select Act_name,Mov_title,Mov_year
             from ACTOR A
             join MOVIE_CAST C
             ON A.Act_id=C.Act_id
             join MOVIES M
             on C.Mov_id=M.Mov_id
             where M.Mov_year not between 2000 and 2015;
             

             select Mov_title,max(Rev_stars)
             from MOVIES M
             inner join RATING using (Mov_id)
             group by Mov_title
             having max(Rev_stars) > 0
             order by Mov_title;
             
             
             
             update RATING set Rev_stars=5where Mov_id in(select Mov_id
             from MOVIES 
             where Dir_id in
             (select Dir_id from DIRECTOR
             where Dir_name ="Steven Spielberg"));
             
             select * from rating;
             
             
             
             


                </code>
            </pre>
        </div>
    </div>
</body>

</html>